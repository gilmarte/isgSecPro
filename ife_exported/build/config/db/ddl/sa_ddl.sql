/*
 * SECURITY ADMIN Data Definition Language scripts
 */
--------------------------------------------------------
--  USER_SEC
--------------------------------------------------------
CREATE TABLE USER_SEC 
(	USER_ID VARCHAR2(8 BYTE), 
	PASS VARCHAR2(40 BYTE) NOT NULL, 
	D VARCHAR2(1 BYTE) NOT NULL, 
	FLAG VARCHAR2(1 BYTE) NOT NULL
);
CREATE UNIQUE INDEX USER_SEC_UK ON USER_SEC (USER_ID);
ALTER TABLE USER_SEC ADD CONSTRAINT USER_SEC_UK UNIQUE (USER_ID);

--------------------------------------------------------
--  GROUP_AUTH
--------------------------------------------------------
CREATE TABLE GROUP_AUTH 
(	
	GRP_ID VARCHAR2(8 BYTE) NOT NULL, 
	AUTH VARCHAR2(20 BYTE) NOT NULL
);
CREATE UNIQUE INDEX GROUP_AUTH_UK ON GROUP_AUTH (GRP_ID, AUTH);
ALTER TABLE GROUP_AUTH ADD CONSTRAINT GROUP_AUTH_UK UNIQUE (GRP_ID, AUTH);
ALTER TABLE GROUP_AUTH ADD CONSTRAINT GROUP_AUTH_USER_GROUPS_FK FOREIGN KEY (GRP_ID)
	  REFERENCES USER_GROUPS (GRP_ID) ON DELETE CASCADE;
	  
--------------------------------------------------------
--  GROUP_MEMBERS
--------------------------------------------------------
CREATE TABLE GROUP_MEMBERS 
(	USER_ID VARCHAR2(8 BYTE), 
	GRP_ID VARCHAR2(8 BYTE)
);
ALTER TABLE GROUP_MEMBERS ADD CONSTRAINT GROUP_MEMBERS_UK UNIQUE (USER_ID, GRP_ID);
CREATE UNIQUE INDEX GROUP_MEMBERS_UK ON GROUP_MEMBERS (USER_ID, GRP_ID);
ALTER TABLE GROUP_MEMBERS ADD CONSTRAINT GROUP_MEMBERS_USER_GROUPS_FK FOREIGN KEY (GRP_ID)
	  REFERENCES USER_GROUPS (GRP_ID) ON DELETE CASCADE;
	  
--------------------------------------------------------
--  USER_AUTH
--------------------------------------------------------	  
CREATE TABLE USER_AUTH 
(	USER_ID VARCHAR2(8 BYTE), 
	AUTH VARCHAR2(20 BYTE)
);
CREATE UNIQUE INDEX USER_AUTH_UK ON USER_AUTH (USER_ID, AUTH);
ALTER TABLE USER_AUTH ADD CONSTRAINT USER_AUTH_UK UNIQUE (USER_ID, AUTH);

--------------------------------------------------------
--  USER_GROUPS
--------------------------------------------------------
CREATE TABLE USER_GROUPS 
(	GRP_ID VARCHAR2(8 BYTE) NOT NULL, 
	GRP_NAME VARCHAR2(20 BYTE)
);
CREATE UNIQUE INDEX USER_GROUPS_PK ON USER_GROUPS (GRP_ID);
ALTER TABLE USER_GROUPS ADD CONSTRAINT USER_GROUPS_PK PRIMARY KEY (GRP_ID);


